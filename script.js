!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){n(2),e.exports=n(1)},function(e,t,n){},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t);var o,a=function(){function e(t){var n=t.code,r=t.en,o=t.ru,a=t.spec,c=t.print;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.code=n,this.en=r,this.ru=o,this.print=c,this.spec=a}var t,n,o;return t=e,(n=[{key:"generateButton",value:function(){var e="",t=document.createElement("div");return!1===this.print?t.className="keyboard__button keyboard__button--spec":t.className="keyboard__button",t.setAttribute("data-code","".concat(this.code)),!1===this.print?e+='<span class="layout layout-stable">'.concat(this.en,"</span>"):this.en===this.ru?(e+='<span class="layout layout--active">'.concat(this.en,"</span>"),e+='<span class="layout layout-spec">'.concat(this.spec,"</span>")):(e+='<span class="layout layout--active">'.concat(this.en,"</span>"),e+='<span class="layout">'.concat(this.ru,"</span>")),t.innerHTML=e,t}}])&&r(t.prototype,n),o&&r(t,o),e}(),c=[{code:"Backquote",en:"`",ru:"ё",print:!0},{code:"Digit1",en:"1",ru:"1",spec:"!",print:!0},{code:"Digit2",en:"2",ru:"2",spec:"@",print:!0},{code:"Digit3",en:"3",ru:"3",spec:"#",print:!0},{code:"Digit4",en:"4",ru:"4",spec:"$",print:!0},{code:"Digit5",en:"5",ru:"5",spec:"%",print:!0},{code:"Digit6",en:"6",ru:"6",spec:"^",print:!0},{code:"Digit7",en:"7",ru:"7",spec:"&",print:!0},{code:"Digit8",en:"8",ru:"8",spec:"*",print:!0},{code:"Digit9",en:"9",ru:"9",spec:"(",print:!0},{code:"Digit0",en:"0",ru:"0",spec:")",print:!0},{code:"Minus",en:"-",ru:"-",spec:"_",print:!0},{code:"Equal",en:"=",ru:"=",spec:"+",print:!0},{code:"Backspace",en:"Backspace",ru:"Backspace",print:!1},{code:"Tab",en:"Tab",ru:"Tab",print:!1},{code:"KeyQ",en:"q",ru:"й",print:!0},{code:"KeyW",en:"w",ru:"ц",print:!0},{code:"KeyE",en:"e",ru:"у",print:!0},{code:"KeyR",en:"r",ru:"к",print:!0},{code:"KeyT",en:"t",ru:"е",print:!0},{code:"KeyY",en:"y",ru:"н",print:!0},{code:"KeyU",en:"u",ru:"г",print:!0},{code:"KeyI",en:"i",ru:"ш",print:!0},{code:"KeyO",en:"o",ru:"щ",print:!0},{code:"KeyP",en:"p",ru:"з",print:!0},{code:"BracketLeft",en:"[",ru:"х",print:!0},{code:"BracketRight",en:"]",ru:"ъ",print:!0},{code:"Backslash",en:"\\",ru:"\\",spec:"|",print:!0},{code:"Delete",en:"DEL",ru:"DEL",print:!1},{code:"CapsLock",en:"Caps Lock",ru:"Caps Lock",print:!1},{code:"KeyA",en:"a",ru:"ф",print:!0},{code:"KeyS",en:"s",ru:"ы",print:!0},{code:"KeyD",en:"d",ru:"в",print:!0},{code:"KeyF",en:"f",ru:"а",print:!0},{code:"KeyG",en:"g",ru:"п",print:!0},{code:"KeyH",en:"h",ru:"р",print:!0},{code:"KeyJ",en:"j",ru:"о",print:!0},{code:"KeyK",en:"k",ru:"л",print:!0},{code:"KeyL",en:"l",ru:"д",print:!0},{code:"Semicolon",en:";",ru:"ж",print:!0},{code:"Quote",en:"'",ru:"э",print:!0},{code:"Enter",en:"Enter",ru:"Enter",print:!1},{code:"ShiftLeft",en:"Shift",ru:"Shift",print:!1},{code:"KeyZ",en:"z",ru:"я",print:!0},{code:"KeyX",en:"x",ru:"ч",print:!0},{code:"KeyC",en:"c",ru:"с",print:!0},{code:"KeyV",en:"v",ru:"м",print:!0},{code:"KeyB",en:"b",ru:"и",print:!0},{code:"KeyN",en:"n",ru:"т",print:!0},{code:"KeyM",en:"m",ru:"ь",print:!0},{code:"Comma",en:",",ru:"б",print:!0},{code:"Period",en:".",ru:"ю",print:!0},{code:"Slash",en:"/",ru:".",print:!0},{code:"ArrowUp",en:"▲",ru:"▲",print:!1},{code:"ShiftRight",en:"Shift",ru:"Shift",print:!1},{code:"ControlLeft",en:"Ctrl",ru:"Ctrl",print:!1},{code:"MetaLeft",en:"Win",ru:"Win",print:!1},{code:"AltLeft",en:"Alt",ru:"Alt",print:!1},{code:"Space",en:" ",ru:" ",spec:" ",print:!0},{code:"AltRight",en:"Alt",ru:"Alt",print:!1},{code:"ControlRight",en:"Ctrl",ru:"Ctrl",print:!1},{code:"ArrowLeft",en:"◄",ru:"◄",print:!1},{code:"ArrowDown",en:"▼",ru:"▼",print:!1},{code:"ArrowRight",en:"►",ru:"►",print:!1}],i=[],d=document.querySelector("body"),s=document.createElement("header");s.classList="keyboard__header",d.appendChild(s);var u=document.createElement("div");u.classList="container",s.appendChild(u);var l=document.createElement("h1");l.classList="logo",u.appendChild(l);var p=document.createTextNode("Virtual Keyboard");l.appendChild(p);var y=document.createElement("main");y.classList="keyboard__main",d.appendChild(y),(u=document.createElement("div")).classList="container",y.appendChild(u);var f=document.createElement("div");f.classList="keyboard__wrapper",u.appendChild(f);var b=document.createElement("textarea");b.classList="keyboard__input",b.autofocus=!0,b.setAttribute("id","keyboard"),f.appendChild(b);var v=document.createElement("label");v.classList="keyboard",v.setAttribute("for","keyboard"),u.appendChild(v);var m=document.createElement("p");m.classList="text__more",u.append(m),m.innerHTML='<h3 style ="text-align:center">Alt + Shift , переключение раскладки</h3>',window.onload=function(){v.innerHTML="",(c.forEach((function(e){i.push(new a(e))})),i).forEach((function(e){v.append(e.generateButton())})),b.addEventListener("click",(function(e){o=b.selectionStart})),this.document.addEventListener("keydown",g),v.addEventListener("mousedown",L),b.addEventListener("keydown",S),v.addEventListener("mouseup",E),b.addEventListener("keyup",E)};var L=function(e){var t,n=document.querySelector("textarea").value.split(""),r=e.target;(e.target.classList.contains("layout")&&(r=e.target.offsetParent),o=b.selectionStart,"keyboard__button--spec"!==e.target.className)&&(r.childNodes.forEach((function(e){e.classList.contains("layout--active")&&(t=e.outerText)})),n.splice(o,0,t),document.querySelector("textarea").value=n.join(""),b.selectionStart=b.selectionEnd=o+1);"Delete"===r.getAttribute("data-code")&&(o=b.selectionStart,n.splice(o,1),document.querySelector("textarea").value=n.join(""),b.selectionStart=b.selectionEnd=o-1),"Backspace"===r.getAttribute("data-code")&&(n.splice(o-1,1),document.querySelector("textarea").value=n.join(""),b.selectionStart=b.selectionEnd=o-1),"Tab"===r.getAttribute("data-code")&&(o=b.selectionStart,n.splice(o,0,"    "),document.querySelector("textarea").value=n.join(""),b.selectionStart=b.selectionEnd=o+3),"Space"===r.getAttribute("data-code")&&(o=b.selectionStart,n.splice(o,0," "),document.querySelector("textarea").value=n.join(""),b.selectionStart=b.selectionEnd=o),"Enter"===r.getAttribute("data-code")&&(b.focus(),n.splice(o,0,"\n"),document.querySelector("textarea").value=n.join(""),b.selectionStart=b.selectionEnd=o+1),"ArrowLeft"===r.getAttribute("data-code")&&(b.focus(),b.selectionStart=b.selectionEnd=o-1),"ArrowRight"===r.getAttribute("data-code")&&(b.focus(),o=b.selectionStart,b.selectionStart=b.selectionEnd=o);var a=document.querySelector('div[data-code="AltLeft"]');document.querySelector('div[data-code="ShiftLeft"]');a.classList.contains("active")&&"ShiftLeft"===e.target.getAttribute("data-code")&&(_(),a.classList.remove("active")),"keyboard__button keyboard__button--spec active"===r.className?k(e):"keyboard__button keyboard__button--spec"===r.className&&"CapsLock"===r.getAttribute("data-code")&&h(e),r.classList.contains("keyboard__button")&&S(e)},g=function(e){e.shiftKey&&e.altKey&&_(),!0===e.getModifierState("CapsLock")?h(e):k(e)},h=function(e){if("keydown"===e.type)document.querySelector('div[data-code="CapsLock"]').classList.add("active"),document.querySelectorAll(".keyboard__button").forEach((function(e){"keyboard__button"===e.className&&e.classList.add("keyboard__button--upper")}));else{var t=e.target;e.target.classList.contains("layout")&&(t=e.target.offsetParent),t.classList.add("active"),b.selectionStart=b.selectionEnd=o+3,document.querySelectorAll(".keyboard__button").forEach((function(e){"keyboard__button"===e.className&&e.classList.add("keyboard__button--upper")}))}},k=function(e){if("keydown"===e.type)document.querySelector('div[data-code="CapsLock"]').classList.remove("active"),document.querySelectorAll(".keyboard__button").forEach((function(e){e.classList.remove("keyboard__button--upper")}));else{var t=e.target;e.target.classList.contains("layout")&&(t=e.target.offsetParent),t.classList.remove("active"),b.selectionStart=b.selectionEnd=o+3,document.querySelectorAll(".keyboard__button").forEach((function(e){e.classList.remove("keyboard__button--upper")}))}},_=function(){c.forEach((function(e){!0===e.print&&(document.querySelectorAll("div[data-code=".concat(e.code,"] span"))[0].classList.toggle("layout--active"),document.querySelectorAll("div[data-code=".concat(e.code,"] span"))[1].classList.toggle("layout--active"))}))},S=function(e){var t=e.target;e.target.classList.contains("layout")&&(t=e.target.offsetParent),("CapsLock"!==t.getAttribute("data-code")&&"CapsLock"!==e.code||"AltLeft"!==t.getAttribute("data-code"))&&(t.classList.contains("keyboard__button")&&t.classList.add("active"),"keydown"===e.type&&document.querySelector('div[data-code="'.concat(e.code,'"')).classList.add("active"),"CapsLock"===t.getAttribute("data-code")&&t.classList.add("active"),"AltLeft"===t.getAttribute("data-code")&&t.classList.add("active"))},E=function(e){var t,n=e.target;(e.target.classList.contains("layout")&&(n=e.target.offsetParent),"CapsLock"!==n.getAttribute("data-code")&&"CapsLock"!==e.code&&"AltLeft"!==n.getAttribute("data-code"))&&("keyup"===e.type?t=e.code:"mouseup"===e.type&&(t=n.dataset.code),document.querySelector('div[data-code="'.concat(t,'"')).classList.remove("active"))}}]);